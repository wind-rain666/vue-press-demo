# 设计理念
1. Postgresql数据库是sql类型数据库，但每个sql类型数据库都是不一致的，切勿将其他数据库设计经验直接搬到Postgresql中！！！
2. Postgresql区别于MySQL的特点：
* 可以很方便的存储数组类型。<br /> 在MySQL数据库设计中，很常见的一种做法就是将数组类型用逗号（','）拼接成字符串，之后存储（或者是增加新的表，进行外键关联）。该做法极大的影响了数据库的灵活性，查询不好查。
* 支持json/jsonb结构，并提供一系列的增删改查方法，可以支持灵活的数据结构。
3. 特殊设计方法
* 一对多/多对多 <br />
可以通过Postgresql提供的数组类型直接实现，传统方式采用新建外键关联表来实现。

# 表名规范
采用下划线命名规范，以s结尾。例如:<br />
用户表为：`users`<br />
用户公众号信息表：`user_official_profiles`

# 字段规范
采用下划线命名规范。以用户表举例：<br />
`uuid` - 主键（uuid格式）<br />
`created_at` - 创建时间 <br />
……

# 主键规范
根据不同表性质来确定主键格式。[uuid和id的设计依据](uuid和id的设计依据)
* 对于重要的表，比如：用户表、产品表、订单表，使用uuid作为主键
* 对于不是很重要的表用id来作为主键，比如：系统日志记录表，用户活动日志记录表

# 关联规范
由于项目不同，我们现有两种关于表关联的处理方式
* 全部不使用外键，仅仅是逻辑上的关联，两表并没有结构上的联系。例如：<br />
用户公众号信息表隶属于用户主表，只需在`user_official_profile`表中用字段`user_uuid`来标识其主表即可，之后查询的时候通过leftjoinAndMapOne来关联属性。
* 使用外键，严格按照一对一，一对多的方式来做，在双向关系中需要设置cascade为合适的值。

详情见[Postgresql关联表设计规范](Postgresql关联表设计规范)

# 外键规范
外键与其关联字段格式必须一致。
